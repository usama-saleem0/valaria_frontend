import React, { useEffect, useState } from "react";
import "../css/App.css";


import Experianceah from "../Experianceah/Experianceah";

import { Container } from "react-bootstrap";
import Header1 from "../Header/Header2";
import { useNavigate, useParams } from "react-router-dom";
import axios from "axios";
import { baseurl } from "../baseurl";

import { useDispatch, useSelector } from "react-redux";
import { getnewdirectordetails } from "../features/SearchFilter";



const New1 = () => {

  const {id}= useParams()

  const dispatch = useDispatch()

  useEffect(()=>{
      dispatch(getnewdirectordetails(id))
  },[])


  const NewsDirector = useSelector((state)=>state.search_filter.newdirector)
  console.log(id,"ID",NewsDirector)

  
  const [userdata, setUser] = useState({});
 

  useEffect(() => {
    // Retrieve user data from local storage
    const storedUser = localStorage.getItem("userData");
    if (storedUser) {
      const user = JSON.parse(storedUser);
      console.log(user, userdata);
      // setUser(user)

      fetchUserData(user.id);
    }
  }, []);

  const fetchUserData = async (userId) => {
    try {
      const response = await axios.get(`${baseurl}/getuserdata/${userId}`);
      setUser(response.data);
    } catch (error) {
      console.error("Error fetching user data:", error);
    }
  };

  return (
    <>
<Container>
      <section className="New1-sec">
        <div className="main-New1">
          <div className="New1-box-1">
            <div className="new-listing-box">
              <div className="new-1-more-img">
              <img
                      src={
                       NewsDirector?.image
                      }
                      alt=""
                    />
              </div>
              <span>
              <h2>{NewsDirector?.name}</h2>
              <p>{userdata.username}</p>

              </span>
            </div>
          </div>

          <div className="New1-box-2" style={{marginBottom: '2%'}}>
            <h2>Contact Info</h2>
            <div class="Website-ah-box">
              <div class="Website-ah-card">
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="26"
                    height="26"
                    viewBox="0 0 26 26"
                    fill="none"
                  >
                    <path
                      d="M6.03722 0.0673828C6.53098 0.177106 7.00645 0.323405 7.40267 0.658671C7.45753 0.707438 7.51849 0.750108 7.56726 0.798874C8.68888 1.92049 9.81659 3.03602 10.9321 4.16373C11.7611 5.00495 11.9013 6.15705 11.3222 7.11408C11.0601 7.54688 10.6883 7.85167 10.2128 8.02235C9.524 8.27227 8.99367 8.69288 8.69497 9.37561C8.49991 9.83279 8.46943 10.2961 8.59744 10.7776C8.93271 12.0334 9.62153 13.0879 10.4627 14.0511C11.4685 15.2092 12.6206 16.1907 14.0105 16.8734C14.5896 17.1599 15.187 17.4037 15.8575 17.3123C16.7414 17.1904 17.418 16.7576 17.7655 15.9164C17.991 15.3616 18.2714 14.8679 18.8078 14.5509C19.6795 14.0389 20.7829 14.1059 21.5326 14.7886C22.2154 15.4104 22.8615 16.0809 23.5138 16.7393C24.1111 17.3367 24.7329 17.9158 25.2876 18.5558C25.9886 19.3544 26.0069 20.6101 25.3913 21.4757C25.2632 21.6525 25.123 21.8231 24.9706 21.9755C24.3123 22.64 23.6357 23.2861 22.9895 23.9689C22.3007 24.6943 21.4534 25.0112 20.4842 25.0539C19.4418 25.0966 18.4482 24.8649 17.4729 24.5358C15.5527 23.8835 13.8215 22.8777 12.1817 21.7073C9.46304 19.7628 7.0796 17.4647 5.03142 14.8313C3.51967 12.8929 2.22737 10.8203 1.42883 8.47953C1.08137 7.46154 0.843636 6.41307 0.898498 5.32193C0.947264 4.37099 1.25815 3.53587 1.97135 2.86534C2.56874 2.29843 3.14783 1.71933 3.71474 1.12195C4.21459 0.597714 4.75711 0.164915 5.5008 0.0673828C5.67757 0.0673828 5.85435 0.0673828 6.03722 0.0673828Z"
                      fill="#194D79"
                    />
                  </svg>
                </button>

                <span>
                  <h2>Email</h2>
                  <h3>{NewsDirector?.email}</h3>
                </span>
              </div>

              <div class="Website-ah-card">
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="31"
                    height="23"
                    viewBox="0 0 31 23"
                    fill="none"
                  >
                    <path
                      d="M0.515625 6.29022C2.40093 7.45114 4.2948 8.61206 6.1801 9.77299C8.8795 11.4364 11.5875 13.0998 14.2869 14.7805C15.0067 15.2311 15.6837 15.2224 16.4036 14.7805C20.8854 12.0082 25.3673 9.25317 29.8578 6.48948C29.952 6.42884 30.0549 6.36819 30.2091 6.28155C30.2091 6.42017 30.2091 6.52414 30.2091 6.61943C30.2091 10.2668 30.2091 13.9055 30.2091 17.5529C30.2091 20.2386 28.3152 22.1533 25.633 22.1533C19.3086 22.1533 12.9757 22.1533 6.65142 22.1533C5.8116 22.1533 4.96322 22.1879 4.14054 22.058C2.27238 21.7721 0.858407 20.2646 0.575612 18.4019C0.567042 18.3499 0.541334 18.298 0.515625 18.246C0.515625 14.2607 0.515625 10.2755 0.515625 6.29022ZM5.04892 0.0351005C2.96652 0.0437641 1.26118 1.30865 0.721294 3.23197C0.661307 3.43989 0.695585 3.54386 0.875546 3.65648C5.64878 6.58478 10.4135 9.52174 15.1695 12.4587C15.3238 12.554 15.4352 12.5453 15.5809 12.45C16.155 12.0862 16.7292 11.731 17.3119 11.3758C21.4682 8.80266 25.6244 6.23824 29.7892 3.67381C30.0034 3.54386 30.072 3.4139 29.9692 3.18865C29.8492 2.91142 29.7721 2.61685 29.6178 2.35694C28.7523 0.806161 27.4154 0.0437641 25.6501 0.0351005C22.2223 0.0264369 18.7945 0.0351005 15.3581 0.0351005C11.9217 0.0351005 8.4853 0.0351005 5.04892 0.0351005Z"
                      fill="#194D79"
                    />
                  </svg>
                </button>

                <span>
                  <h2>Phone</h2>
                  <h3>
                    {NewsDirector?.phone}
                  </h3>
                </span>
              </div>

              <div class="Website-ah-card">
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="29"
                    height="29"
                    viewBox="0 0 29 29"
                    fill="none"
                  >
                    <path
                      d="M0.429688 15.4333C0.429688 14.8943 0.429688 14.3448 0.429688 13.8058C0.450832 13.7107 0.461404 13.6156 0.482548 13.5205C0.567124 12.9181 0.619984 12.3157 0.746848 11.7239C1.47632 8.38443 3.18898 5.63675 5.91656 3.57599C9.31017 1.00797 13.1267 0.151959 17.292 1.01853C20.6222 1.71602 23.3287 3.45974 25.4008 6.15458C27.642 9.06078 28.5724 12.3686 28.2235 16.0145C27.938 18.963 26.7963 21.5733 24.8299 23.8031C22.6732 26.2443 19.9879 27.7661 16.774 28.3368C16.2454 28.4319 15.7168 28.4848 15.1882 28.5587C14.649 28.5587 14.0993 28.5587 13.5601 28.5587C13.4861 28.5482 13.4227 28.5165 13.3487 28.5165C11.1708 28.3579 9.13045 27.7344 7.26978 26.6037C3.66472 24.3949 1.43403 21.2034 0.662272 17.0396C0.54598 16.4901 0.503692 15.9617 0.429688 15.4333ZM19.7025 11.2695C19.9033 13.5205 19.8928 15.7292 19.7025 17.959C21.4468 18.2338 23.1278 18.6142 24.7664 19.3012C26.0985 16.1625 26.0985 13.0555 24.7664 9.92735C23.1278 10.6143 21.4468 10.9947 19.7025 11.2695ZM9.02473 11.2695C7.28035 10.9947 5.5994 10.6143 4.00303 9.94849C2.64981 12.1361 2.66038 17.4623 4.0136 19.2906C5.60997 18.6248 7.30149 18.2444 9.02473 17.9696C8.83443 15.7292 8.83443 13.5205 9.02473 11.2695ZM11.5409 17.6314C13.4438 17.6314 15.3151 17.6314 17.1863 17.6314C17.3555 15.6235 17.3555 13.5944 17.1863 11.6077C15.2834 11.6077 13.4227 11.6077 11.5409 11.6077C11.3717 13.6156 11.3717 15.6235 11.5409 17.6314ZM16.8692 9.02908C16.848 8.91283 16.8269 8.83885 16.8163 8.77544C16.5626 7.43331 16.2454 6.10174 15.664 4.85472C15.4208 4.32632 15.1459 3.81905 14.7019 3.41747C14.4376 3.17441 14.279 3.17441 14.0253 3.41747C13.8456 3.58656 13.687 3.77678 13.5601 3.97757C12.5769 5.50993 12.2069 7.25365 11.8686 9.02908C13.539 9.15589 15.1882 9.15589 16.8692 9.02908ZM11.8475 20.1677C11.9109 20.4953 11.9637 20.7596 12.0166 21.0132C12.2809 22.3659 12.6509 23.6975 13.3275 24.9022C13.5284 25.2509 13.8033 25.5574 14.0676 25.8639C14.2367 26.0541 14.4587 26.0541 14.6385 25.8639C14.8182 25.6737 15.0085 25.4834 15.1565 25.2721C15.7802 24.3421 16.1291 23.2959 16.4146 22.2285C16.5837 21.5733 16.7212 20.8969 16.8797 20.1677C15.1882 20.1677 13.539 20.1677 11.8475 20.1677ZM5.28224 7.73978C6.61431 8.24704 7.95696 8.54295 9.2996 8.74374C9.50047 7.88773 9.65905 7.06343 9.89163 6.24969C10.1136 5.43596 10.4097 4.65392 10.6845 3.84019C8.5067 4.60108 6.72003 5.90095 5.28224 7.73978ZM5.28224 21.4993C6.70946 23.3487 8.49613 24.638 10.7374 25.42C10.0185 23.8031 9.62733 22.1757 9.33132 20.4848C7.94638 20.6961 6.60374 20.992 5.28224 21.4993ZM17.9792 25.42C20.2205 24.638 22.0072 23.3381 23.4344 21.4993C22.1023 20.992 20.7702 20.6961 19.3853 20.4848C19.0893 22.1757 18.6981 23.8137 17.9792 25.42ZM18.0427 3.84019C18.3175 4.66449 18.603 5.44652 18.825 6.24969C19.0576 7.06343 19.2161 7.8983 19.417 8.74374C20.7702 8.53238 22.1234 8.24704 23.4344 7.72921C22.0072 5.90095 20.2205 4.60108 18.0427 3.84019Z"
                      fill="#194D79"
                    />
                  </svg>
                </button>

                <span>
                  <h2>Website</h2>
                  <h3>
                    {NewsDirector?.Website}
                  </h3>
                </span>
              </div>

              <div class="Website-ah-card">
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="25"
                    height="25"
                    viewBox="0 0 25 25"
                    fill="none"
                  >
                    <path
                      d="M13.8702 24.8135C12.157 24.8135 10.4759 24.8135 8.77071 24.8135C8.77071 19.344 8.77071 13.8745 8.77071 8.38085C10.3794 8.38085 11.9961 8.38085 13.6611 8.38085C13.6611 9.1128 13.6611 9.8367 13.6611 10.5686C14.015 10.1584 14.3126 9.74018 14.6745 9.39432C15.5754 8.54172 16.6773 8.10738 17.8999 7.99477C18.9536 7.89825 20.0073 7.97064 21.0288 8.29238C22.726 8.82324 23.7314 10.0137 24.2301 11.6867C24.5598 12.7886 24.6805 13.9308 24.6885 15.0729C24.7127 18.2581 24.7046 21.4352 24.7046 24.6204C24.7046 24.6606 24.6966 24.7008 24.6885 24.7652C22.9994 24.7652 21.3103 24.7652 19.581 24.7652C19.581 24.6445 19.581 24.5319 19.581 24.4113C19.581 21.6926 19.589 18.974 19.573 16.2553C19.573 15.6842 19.5167 15.1132 19.4121 14.5501C19.0984 12.861 18.0045 12.2738 16.42 12.4669C14.9963 12.6438 14.2161 13.4803 13.9989 15.0327C13.9185 15.5958 13.8863 16.1749 13.8783 16.7379C13.8622 19.3037 13.8702 21.8776 13.8702 24.4435C13.8702 24.5561 13.8702 24.6767 13.8702 24.8135ZM5.52924 8.37281C3.82404 8.37281 2.14298 8.37281 0.453873 8.37281C0.453873 13.8584 0.453873 19.3359 0.453873 24.8135C2.15907 24.8135 3.84013 24.8135 5.52924 24.8135C5.52924 19.3118 5.52924 13.8423 5.52924 8.37281ZM2.9634 0.152488C1.34669 0.168575 0.0195312 1.50377 0.0195312 3.11245C0.0195312 4.75329 1.37886 6.11262 3.00362 6.10458C4.62034 6.09654 5.94749 4.73721 5.93945 3.1044C5.93141 1.46356 4.59621 0.136402 2.9634 0.152488Z"
                      fill="#194D79"
                    />
                  </svg>
                </button>

                <span>
                  <h2>Linkedin</h2>
                  <h3>
                   {NewsDirector?.LinkedIn}
                  </h3>
                </span>
              </div>

              <div class="Website-ah-card">
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="24"
                    viewBox="0 0 28 24"
                    fill="none"
                  >
                    <path
                      d="M27.7721 3.35349C26.7748 3.8091 25.7121 4.11109 24.6041 4.25772C25.7439 3.549 26.6138 2.4353 27.0228 1.09292C25.9601 1.75276 24.7868 2.21884 23.5364 2.47894C22.5273 1.36 21.0891 0.666992 19.5202 0.666992C16.4763 0.666992 14.0257 3.24003 14.0257 6.39435C14.0257 6.84821 14.0626 7.28461 14.1531 7.70007C9.58212 7.4679 5.53749 5.18638 2.82039 1.71087C2.34603 2.56796 2.06779 3.549 2.06779 4.6051C2.06779 6.58811 3.04836 8.34594 4.50999 9.36364C3.62664 9.34618 2.76005 9.0791 2.02588 8.65841C2.02588 8.67587 2.02588 8.69856 2.02588 8.72125C2.02588 11.5038 3.93171 13.8149 6.4309 14.3474C5.98336 14.4748 5.49559 14.5359 4.98938 14.5359C4.63738 14.5359 4.28203 14.5149 3.94847 14.4381C4.66085 16.7057 6.68233 18.3727 9.08597 18.4269C7.21535 19.9508 4.8402 20.869 2.26893 20.869C1.81804 20.869 1.38558 20.848 0.953125 20.7904C3.38862 22.4261 6.27501 23.36 9.38769 23.36C19.5051 23.36 25.0366 14.6319 25.0366 7.06641C25.0366 6.8133 25.0282 6.56891 25.0164 6.32627C26.1076 5.5198 27.0245 4.51258 27.7721 3.35349Z"
                      fill="#194D79"
                    />
                  </svg>
                </button>

                <span>
                  <h2>Twitter</h2>
                  <h3>
                    {NewsDirector?.Twitter}
                  </h3>
                </span>
              </div>

              <div class="Website-ah-card">
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="13"
                    height="28"
                    viewBox="0 0 13 28"
                    fill="none"
                  >
                    <path
                      d="M11.8775 0.800995L9.01596 0.79541C5.80113 0.79541 3.72357 3.38832 3.72357 7.40153V10.4474H0.846432C0.597813 10.4474 0.396484 10.6926 0.396484 10.995V15.4081C0.396484 15.7106 0.598043 15.9555 0.846432 15.9555H3.72357V27.0911C3.72357 27.3936 3.9249 27.6385 4.17352 27.6385H7.92736C8.17598 27.6385 8.37731 27.3933 8.37731 27.0911V15.9555H11.7414C11.99 15.9555 12.1913 15.7106 12.1913 15.4081L12.1927 10.995C12.1927 10.8498 12.1452 10.7107 12.0609 10.608C11.9767 10.5052 11.8619 10.4474 11.7425 10.4474H8.37731V7.86538C8.37731 6.62435 8.62042 5.99435 9.94937 5.99435L11.877 5.99351C12.1254 5.99351 12.3267 5.74832 12.3267 5.44617V1.34834C12.3267 1.04646 12.1256 0.801554 11.8775 0.800995Z"
                      fill="#194D79"
                    />
                  </svg>
                </button>

                <span>
                  <h2>Facebook</h2>
                  <h3>
                    { NewsDirector?.Facebook}
                  </h3>
                </span>
              </div>
            </div>
          </div>


          <Experianceah id={id} showSvg={false} />


        </div>
      </section>

      </Container>

    </>
  );
};

export default New1;
