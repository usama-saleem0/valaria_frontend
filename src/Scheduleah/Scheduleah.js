import React, { useEffect, useState } from "react";


import Latestuserratingicon from "../img/latest-rating-user-icon.png";
import karbabclogo from "../img/karc-abc-logo.png";
import Soul from '../img/Soul-1.png'
import reviewdirectorimg from "../img/review-director-img.png"; 
import axios from "axios";
import { baseurl } from "../baseurl";



const Scheduleah = ({sortSubscribedArticles}) => {

    const [articles, setarticles] = useState([]);



    useEffect(() => {

        const fetcharticles = async () => {

          const storedUser = localStorage.getItem("userData");
         
            const user = JSON.parse(storedUser);
    
            try {
              const response = await axios.get(`${baseurl}/getsavearticles/${user.id}`); // Update this with your API endpoint
              // const formattedProducts = response.data.data.map(product => ({
              //   ...product,
              //   price: parseFloat(product.price) // Convert to number if necessary
              // }));
              setarticles(response.data);
            } catch (error) {
              console.error('Error fetching articles:', error);
            }
          };

        fetcharticles();
      }, []);

      

 
     

      const calculateHoursAgo = (createdAt) => {
        const createdDate = new Date(createdAt);
        const currentDate = new Date();
        const diffInMilliseconds = currentDate - createdDate;
        const diffInHours = Math.floor(diffInMilliseconds / (1000 * 60 * 60));
        return diffInHours;
      };



    return (
        <>
       {/* {articles.map((article, index) => ( */}
       {sortSubscribedArticles(articles).map((article, index) => (
               <div class="Schedule-ah-card" key={index}>
                
                                <div class="Schedule-ah-imger">
                               <img src={article.Article.image}  />
                                </div>

                                <div class="Schedule-ah-card-box">

                                    <div class="Schedule-ah-list-1">
                                        <span><svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
                                            <path d="M14.5895 7.95023C14.5971 6.79102 14.3214 5.69599 13.7626 4.67648C13.7512 4.65383 13.7399 4.63117 13.7248 4.60852C12.6147 2.58083 10.5341 1.16107 8.11375 0.983601C8.07977 0.979825 8.04956 0.979825 8.01558 0.97605C7.98159 0.972274 7.94761 0.972274 7.91363 0.972274C7.8872 0.972274 7.86076 0.968498 7.83056 0.968498C7.79657 0.968498 7.75881 0.964722 7.72483 0.964722C7.68329 0.964722 7.63798 0.964722 7.59645 0.964722C7.56246 0.964722 7.53226 0.964722 7.49827 0.964722C7.48317 0.964722 7.46429 0.964722 7.44918 0.964722C7.42653 0.964722 7.40387 0.964722 7.38122 0.964722C7.36611 0.964722 7.35101 0.964722 7.33213 0.964722C7.32835 0.964722 7.32458 0.964722 7.32458 0.964722C7.2906 0.964722 7.25661 0.968498 7.22263 0.968498C6.05208 1.02891 4.95706 1.38385 4.00552 1.95402C1.9665 3.18876 0.599609 5.43167 0.599609 7.99554C0.599609 8.15791 0.603385 8.32028 0.614713 8.48264C0.758199 10.5972 1.83435 12.4587 3.43157 13.6481C3.44668 13.6595 3.46178 13.6708 3.47311 13.6784C3.6317 13.7954 3.79406 13.9049 3.96398 14.0069C3.98286 14.0182 3.99797 14.0257 4.01685 14.0371C5.04013 14.6488 6.22955 15.0075 7.50205 15.0226C7.53226 15.0226 7.56246 15.0226 7.59267 15.0226C7.62288 15.0226 7.65309 15.0226 7.68329 15.0226C7.70217 15.0226 7.72483 15.0226 7.74371 15.0226C7.76636 15.0226 7.78524 15.0226 7.8079 15.0226C7.82678 15.0226 7.84188 15.0226 7.86076 15.0226C9.86579 14.9471 11.6518 14.022 12.879 12.5984C12.879 12.5947 12.8828 12.5947 12.8866 12.5909C13.166 12.2775 13.4152 11.9414 13.6266 11.5827C13.9136 11.0956 14.1402 10.5707 14.2988 10.0043C14.3025 9.98547 14.3101 9.97037 14.3139 9.95149C14.4913 9.33223 14.5895 8.67521 14.5895 7.99554C14.5895 7.98044 14.5895 7.96534 14.5895 7.95023ZM13.1546 8.90555C13.0905 9.28692 12.9885 9.66451 12.845 10.0383C11.8784 12.5342 9.32961 13.9842 6.64868 13.5688C6.48254 13.5424 6.32018 13.5122 6.16159 13.4707C5.4064 13.2705 4.71162 12.9194 4.1188 12.4474C4.10747 12.4398 4.09992 12.4323 4.08859 12.4247C3.7563 12.1491 3.45423 11.8244 3.17481 11.4543C3.1295 11.3901 3.07663 11.3373 3.01999 11.2957C2.43472 10.4801 2.0609 9.50215 1.98161 8.44111C1.97028 8.29384 1.96273 8.14658 1.96273 7.99554C1.96273 7.45558 2.03825 6.93073 2.17796 6.43608C2.64995 4.77466 3.86203 3.42287 5.42905 2.76585C6.67889 2.25987 8.09865 2.19946 9.38247 2.62614C9.39758 2.62992 9.41268 2.63747 9.42401 2.64124C9.45799 2.65257 9.49197 2.6639 9.52596 2.679C9.82426 2.78851 10.1075 2.92066 10.3793 3.07548L10.3944 3.08303C10.4171 3.09813 10.4397 3.10946 10.4624 3.12457C10.4964 3.14345 10.5304 3.1661 10.5606 3.18498C10.5757 3.19253 10.587 3.20009 10.5983 3.21141C10.6021 3.21519 10.6059 3.21519 10.6097 3.21896C10.6059 3.21896 10.6059 3.21519 10.6021 3.21519C10.6172 3.22274 10.6285 3.23407 10.6436 3.24162C10.6323 3.23407 10.621 3.22652 10.6097 3.21896C10.6248 3.23029 10.6436 3.24162 10.6587 3.25295C10.7796 3.33224 10.8966 3.41531 11.0099 3.50216C10.991 3.48706 10.9684 3.47195 10.9495 3.45685C10.9646 3.46818 10.9797 3.47951 10.9948 3.49083C11.0061 3.50216 11.0212 3.50971 11.0363 3.52104C11.0628 3.5437 11.0892 3.56258 11.1156 3.58523C11.1383 3.60411 11.1647 3.62299 11.1874 3.64565C11.21 3.66453 11.2289 3.67963 11.2516 3.69851C11.2591 3.70229 11.2667 3.70984 11.2704 3.71739C11.2969 3.74005 11.3233 3.7627 11.3497 3.78913C11.3724 3.81179 11.3988 3.83444 11.4215 3.8571C11.4366 3.8722 11.4555 3.88731 11.4706 3.90619C11.5008 3.9364 11.531 3.96283 11.5612 3.99303C11.5839 4.01569 11.6065 4.03835 11.6254 4.061C11.648 4.08366 11.6707 4.11009 11.6934 4.13275C11.6858 4.12519 11.682 4.11764 11.6745 4.11387C11.682 4.12142 11.6896 4.13275 11.6971 4.1403C11.6971 4.1403 11.6934 4.13652 11.6896 4.13652C11.7122 4.15918 11.7349 4.18561 11.7575 4.20826C11.784 4.2347 11.8066 4.2649 11.8331 4.29134C11.8746 4.34042 11.9124 4.38573 11.9539 4.43482C11.9652 4.44615 11.9766 4.46125 11.9841 4.47258C12.0068 4.50279 12.0332 4.533 12.0558 4.5632C12.0672 4.57831 12.0785 4.59341 12.0936 4.61229C12.1125 4.63872 12.1351 4.66515 12.154 4.69536C12.1616 4.70669 12.1729 4.72179 12.1805 4.73312C12.1842 4.74067 12.1918 4.74823 12.1956 4.752C12.1993 4.75578 12.1993 4.75955 12.2031 4.75955C12.222 4.78221 12.2371 4.80864 12.256 4.83507C12.2597 4.83885 12.2635 4.8464 12.2673 4.85018C12.2862 4.88038 12.3051 4.90682 12.3239 4.93702C12.3504 4.97856 12.3806 5.02387 12.4032 5.0654C12.3957 5.0503 12.3844 5.0352 12.3768 5.02387C12.913 5.88856 13.2226 6.91185 13.2226 8.00687C13.2264 8.30517 13.2037 8.61102 13.1546 8.90555ZM10.7154 10.1441C10.7569 10.4348 10.6399 10.684 10.402 10.8275C10.2887 10.8955 10.1679 10.9332 10.047 10.9332C9.90355 10.9332 9.76384 10.8841 9.63546 10.7897C9.38625 10.6047 9.14081 10.4197 8.8916 10.2309C8.77454 10.1441 8.65749 10.0534 8.53666 9.96659C8.40072 9.86464 8.26101 9.75891 8.12508 9.65696C7.75881 9.38132 7.37744 9.09435 6.99985 8.8187C6.78462 8.66011 6.67511 8.44488 6.67511 8.18057C6.67511 7.41405 6.67511 6.64375 6.67511 5.87723V5.74885C6.67511 5.22777 6.67511 4.70669 6.67511 4.18561C6.67511 3.98171 6.74686 3.79291 6.88279 3.66075C7.0074 3.53614 7.17354 3.47195 7.35479 3.47195H7.35856C7.74749 3.47573 8.03068 3.77781 8.03446 4.19316C8.03446 4.61984 8.03446 5.04653 8.03446 5.47321V6.03205C8.03446 6.18309 8.03446 6.33412 8.03446 6.48516V6.49271C8.03446 6.94205 8.03446 7.41027 8.03068 7.86716C8.03068 7.87471 8.03068 7.87849 8.03068 7.88227C8.03446 7.88227 8.03823 7.88982 8.04578 7.89359C8.51023 8.24098 8.97467 8.59214 9.43534 8.94331L9.53351 9.01505C9.82048 9.23028 10.1037 9.44928 10.3907 9.66451C10.5228 9.75891 10.6814 9.90618 10.7154 10.1441ZM10.8815 3.40021C10.8891 3.40399 10.8929 3.40776 10.9004 3.41531C10.8815 3.40021 10.8626 3.38511 10.84 3.37378C10.8551 3.38133 10.8664 3.38888 10.8815 3.40021Z" fill="#828282"/>
                                          </svg>
                                          <p>{calculateHoursAgo(article.Article.createdAt)} hours ago</p>

                                          </span>

                                        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="26" viewBox="0 0 21 26" fill="none">
                                            <path d="M13.8423 3.42105C13.8423 5.31045 12.3106 6.8421 10.4212 6.8421C8.53181 6.8421 7.00015 5.31045 7.00015 3.42105C7.00015 1.53166 8.53181 0 10.4212 0C12.3106 0 13.8423 1.53166 13.8423 3.42105Z" fill="#828282"/>
                                            <path d="M13.8421 13C13.8421 14.8894 12.3104 16.421 10.4211 16.421C8.53166 16.421 7 14.8894 7 13C7 11.1106 8.53166 9.57893 10.4211 9.57893C12.3104 9.57893 13.8421 11.1106 13.8421 13Z" fill="#828282"/>
                                            <path d="M13.8421 22.5789C13.8421 24.4683 12.3104 26 10.4211 26C8.53166 26 7 24.4683 7 22.5789C7 20.6895 8.53166 19.1579 10.4211 19.1579C12.3104 19.1579 13.8421 20.6895 13.8421 22.5789Z" fill="#828282"/>
                                          </svg>
                                    </div>

                                    <h2>{article.Article.mainheading}</h2>

                                    <div class="Schedule-ah-list-3">
                                        <a href="#">Written by <span>{article.Article.writer}</span></a>


                                        <div class="Soul-icon-box">
                                            <span>
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 22 20" fill="none">
                                                    <path d="M21.4171 9.39058C21.4171 9.60805 21.4171 9.83139 21.4171 10.0489C21.4054 10.0665 21.3877 10.0841 21.3818 10.1018C21.0527 11.624 20.7236 13.1522 20.3944 14.6745C20.2181 15.4973 20.0535 16.326 19.8478 17.143C19.4658 18.7006 18.0552 19.7644 16.3918 19.7703C14.1055 19.7762 11.8191 19.7762 9.52689 19.7703C7.46388 19.7703 5.92985 18.2245 5.92397 16.1674C5.92397 13.7635 5.92397 11.3595 5.92397 8.94977C5.92397 7.99761 6.24136 7.17476 6.88201 6.46945C7.75188 5.50554 8.62175 4.54163 9.48575 3.57772C10.4497 2.50801 11.4136 1.44418 12.3657 0.374469C12.6067 0.104104 12.8771 0.00418582 13.2297 0.104104C13.506 0.180511 13.7822 0.245164 14.0585 0.315694C15.5631 0.697733 16.1979 2.14948 15.4514 3.50719C14.9989 4.31828 14.5463 5.13526 14.0996 5.94636C13.7528 6.57525 14.0643 7.09835 14.7814 7.09835C16.1332 7.09835 17.4792 7.08659 18.831 7.10423C19.7773 7.11598 20.5296 7.53328 21.0174 8.35026C21.2055 8.66765 21.2878 9.04381 21.4171 9.39058ZM4.72496 17.9365V8.39728C4.72496 7.38047 3.90211 6.55762 2.8853 6.55762H2.0213C1.00449 6.55762 0.181641 7.38047 0.181641 8.39728V17.9365C0.181641 18.9533 1.00449 19.7762 2.0213 19.7762H2.8853C3.90211 19.7762 4.72496 18.9533 4.72496 17.9365Z" fill="#828282"/>
                                                  </svg>
                                                  <p>35</p>
                                            </span>

                                            <span>
                                                <svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" fill="none">
                                                    <path d="M22.5332 10.8801C22.484 16.122 18.651 20.6686 13.5137 21.5238C10.9666 21.9483 8.57335 21.5238 6.31541 20.2749C6.22312 20.2256 6.08162 20.2133 5.98318 20.2503C4.72194 20.6994 3.46069 21.167 2.19945 21.6161C1.55959 21.8437 0.932048 21.4623 0.870524 20.7978C0.852067 20.6256 0.901286 20.4287 0.962811 20.2626C1.39963 19.0382 1.84876 17.8139 2.29788 16.5896C2.3471 16.4481 2.35326 16.3435 2.27327 16.2081C-1.14132 10.1788 1.88567 2.58668 8.50567 0.544075C14.5843 -1.33241 21.0381 2.5067 22.2563 8.73909C22.3978 9.44662 22.447 10.1665 22.5332 10.8801Z" fill="#828282"/>
                                                  </svg>
                                                  <p>25</p>
                                            </span>

                                            <span>
                                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="none">
                                                    <path d="M14.4536 21.1014C14.1348 21.0094 13.8045 20.9494 13.5011 20.8134C12.0725 20.1732 11.2967 18.6328 11.5847 17.0244C11.6078 16.8963 11.5732 16.8483 11.481 16.7923C9.57614 15.664 7.67126 14.5357 5.76638 13.3994C5.64733 13.3274 5.57436 13.3354 5.47067 13.4314C4.47214 14.3436 3.05116 14.5277 1.86829 13.9115C0.677744 13.2914 -0.0596284 11.979 0.0594265 10.6066C0.178481 9.23427 0.858247 8.23401 2.07952 7.70987C3.30079 7.18572 4.4491 7.40178 5.47067 8.28202C5.55516 8.35404 5.61276 8.41005 5.73182 8.33803C7.68278 7.17372 9.63759 6.01341 11.577 4.8611C11.5578 4.51701 11.5194 4.18892 11.5309 3.85683C11.577 2.26441 12.7906 0.872035 14.3038 0.655978C14.3537 0.647975 14.3998 0.631971 14.4497 0.615967C14.6801 0.615967 14.9106 0.615967 15.141 0.615967C15.1756 0.62797 15.214 0.643974 15.2485 0.651976C16.6503 0.864033 17.7794 1.98433 18.0175 3.40071C18.2672 4.88511 17.5989 6.3335 16.3392 7.04169C15.0872 7.74187 13.5549 7.51781 12.5218 6.48554C12.4757 6.44153 12.4296 6.39751 12.3797 6.3495C10.4018 7.52582 8.43168 8.69413 6.45767 9.86644C6.64585 10.5386 6.63817 11.1988 6.46151 11.855C8.4432 13.0313 10.4134 14.1996 12.4143 15.3879C12.4603 15.3239 12.4911 15.2639 12.5372 15.2199C13.3129 14.4717 14.227 14.1596 15.2716 14.3116C16.7694 14.5277 17.9791 15.876 18.0598 17.4005C18.1519 19.1169 17.1688 20.5693 15.6249 20.9894C15.4636 21.0334 15.3023 21.0654 15.141 21.1054C14.9144 21.1014 14.684 21.1014 14.4536 21.1014Z" fill="#828282"/>
                                                  </svg>
                                                  <p>15</p>
                                            </span>


                                        </div>
                                    </div>

                                </div>
                </div>
 ))}
        </>
    )

};


export default Scheduleah